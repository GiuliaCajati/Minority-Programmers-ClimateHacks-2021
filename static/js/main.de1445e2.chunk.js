(this.webpackJsonpclimatehacks=this.webpackJsonpclimatehacks||[]).push([[0],{218:function(e,i,n){},219:function(e,i,n){},356:function(e,i,n){"use strict";n.r(i);var r=n(0),t=n.n(r),a=n(20),c=n.n(a),o=(n(218),n(17)),s=(n(219),n(391)),u=n(393),l=n(392),d=n(7),g=function(e){var i=function(i){switch(i){case"acres":e.setAcresToggle(!e.acresToggle),e.durationToggle&&e.setDurationToggle(!e.durationToggle);break;case"duration":e.setDurationToggle(!e.durationToggle),e.acresToggle&&e.setAcresToggle(!e.acresToggle);break;case"cause":e.setCauseToggle(!e.causeToggle);break;case"ongoing":e.setOngoingToggle(!e.ongoingToggle)}};return Object(d.jsxs)("div",{className:"map-element",id:"toggle-container",children:[Object(d.jsx)(u.a,{onClick:function(){return i("acres")},color:"secondary",variant:e.acresToggle?"contained":"outlined",className:"map-filter-button",children:"Acres"}),Object(d.jsx)(u.a,{onClick:function(){return i("duration")},color:"secondary",variant:e.durationToggle?"contained":"outlined",className:"map-filter-button",children:"Duration"}),Object(d.jsx)(u.a,{onClick:function(){return i("cause")},color:"secondary",variant:e.causeToggle?"contained":"outlined",className:"map-filter-button",children:"Cause"}),Object(d.jsx)(u.a,{onClick:function(){return i("ongoing")},color:"secondary",variant:e.ongoingToggle?"contained":"outlined",className:"map-filter-button",children:"Ongoing"})]})},j=n(42),O=n(384),w=n(397),h=n(385),b=n(386),_=function(e){var i=function(i){if(!e.causeToggle)return"https://i.imgur.com/F53W34b.png";switch(i){case"Human":return"https://i.imgur.com/mYKYRO2.png";case"Natural":return"https://i.imgur.com/04G71Br.png";default:return"https://i.imgur.com/F53W34b.png"}},n=function(e){if(e.irwin_FireCause&&!e.irwin_FireCauseGeneral)return e.irwin_FireCause;if(e.irwin_FireCause&&e.irwin_FireCauseGeneral&&!e.irwin_FireCauseSpecific)return"".concat(e.irwin_FireCause," (").concat(e.irwin_FireCauseGeneral,")");if("Other Human Cause"===e.irwin_FireCauseGeneral)return"".concat(e.irwin_FireCause," (").concat(e.irwin_FireCauseSpecific,")");switch(e.irwin_FireCauseSpecific){case"Motor Vehicle":return"".concat(e.irwin_FireCause," (").concat(e.irwin_FireCauseSpecific,")");default:return"".concat(e.irwin_FireCause," (").concat(e.irwin_FireCauseGeneral,", ").concat(e.irwin_FireCauseSpecific,")")}},r=function(e){return e.irwin_PredominantFuelGroup&&!e.irwin_SecondaryFuelModel?e.irwin_PredominantFuelGroup:"".concat(e.irwin_PredominantFuelGroup,", ").concat(e.irwin_SecondaryFuelModel)};return Object(d.jsxs)(O.a,{center:[40,-100],zoom:5,scrollWheelZoom:!0,children:[Object(d.jsx)(w.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.fireData.map((function(t){var a=function(i){return e.acresToggle?i.acres<=10?5:i.acres<=20?10:i.acres<=100?15:i.acres<=500?20:i.acres<=1e3?30:60:e.durationToggle?i.duration<=10?5:i.duration<=20?10:i.duration<=30?30:60:20}(t),c=new j.Icon({iconUrl:i(t.irwin_FireCause),iconSize:[a,a]});return null===t.irwin_InitialLatitude||null===t.irwin_InitialLongitude?null:Object(d.jsx)(h.a,{icon:c,position:[t.irwin_InitialLatitude,t.irwin_InitialLongitude],children:Object(d.jsxs)(b.a,{children:[Object(d.jsx)("p",{children:Object(d.jsx)("b",{children:t.poly_IncidentName})}),Object(d.jsxs)("ul",{children:[Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:"Location: "})," ",t.irwin_POOCounty,", ",t.irwin_POOState.slice(-2)]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:"Date: "}),t.startDate," - ",t.endDate," (",t.duration," ",1===t.duration?"day":"days",")"]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:"Acres Burned: "}),t.acres]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:"Cause: "}),n(t)]}),t.irwin_PredominantFuelGroup?Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:"Vegetation: "}),r(t)]}):null,t.irwin_TotalIncidentPersonnel?Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:"Firefighters: "}),t.irwin_TotalIncidentPersonnel]}):null,t.irwin_POOLandownerKind?Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:"Property: "})," ",t.irwin_POOLandownerKind]}):null]})]})},t.OBJECTID)}))]})},p=n(395),f=n(203),F=n(199),m=function(e){for(var i={},n=0;n<e.length;n++)i["".concat(e[n].irwin_FireCause)]?(i["".concat(e[n].irwin_FireCause)][0]+=1,i["".concat(e[n].irwin_FireCause)][1]+=e[n].poly_Acres_AutoCalc):i["".concat(e[n].irwin_FireCause)]=[1,e[n].poly_Acres_AutoCalc];var r=[];for(var t in i)"Undetermined"!==t&&(i[t]=i[t][1]/i[t][0],r.push({name:t,value:i[t]}));return r},C=function(e){for(var i={},n=0;n<e.length;n++)i["".concat(e[n].irwin_FireCause)]?i["".concat(e[n].irwin_FireCause)]+=1:i["".concat(e[n].irwin_FireCause)]=1;var r=[];for(var t in i)"Undetermined"!==t&&r.push({name:t,value:i[t]});return r},x=function(e){var i=e.x,n=e.y,r=e.name,t=e.value;return Object(d.jsxs)("text",{x:i,y:n,fill:"black",textAnchor:"start",dominantBaseline:"central",children:[r,": ",t.toFixed(2)]})},T=["#0088FE","#00C49F","#FFBB28","#FF8042"],v=function(e){return Object(d.jsx)(p.a,{width:400,height:400,children:e.data?Object(d.jsx)(f.a,{data:e.data,labelLine:!0,label:x,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",children:e.data.map((function(e,i){return Object(d.jsx)(F.a,{fill:T[i%T.length]},"cell-".concat(i))}))}):null})},y=n(390),D=function(e){var i=e.data;return Object(d.jsx)("div",{id:"graph-page",children:i?Object(d.jsxs)(y.a,{container:!0,className:"graph-container",children:[Object(d.jsx)(y.a,{item:!0,xs:3,children:Object(d.jsx)(v,{data:m(i)})}),Object(d.jsx)(y.a,{item:!0,xs:3,children:Object(d.jsx)(v,{data:C(i)})}),Object(d.jsx)(y.a,{item:!0,xs:3}),Object(d.jsx)(y.a,{item:!0,xs:3})]}):null})},S=Object(s.a)((function(e){return{typography:{padding:e.spacing(2)}}})),G=function(e){S();var i=t.a.useState(!1),n=Object(o.a)(i,2),a=n[0],c=n[1],s=t.a.useState(null),j=Object(o.a)(s,2),O=j[0],w=j[1],h=Object(r.useState)(!1),b=Object(o.a)(h,2),p=b[0],f=b[1],F=Object(r.useState)(!1),m=Object(o.a)(F,2),C=m[0],x=m[1],T=Object(r.useState)(!1),v=Object(o.a)(T,2),y=v[0],G=v[1],P=Object(r.useState)(!1),I=Object(o.a)(P,2),k=I[0],A=I[1],B=Boolean(O),L=B?"simple-popover":void 0;return Object(d.jsxs)("div",{children:[Object(d.jsx)(_,{fireData:k?e.fireData.filter((function(e){return"present"===e.endDate})):e.fireData,acresToggle:p,durationToggle:C,causeToggle:y}),Object(d.jsx)(u.a,{className:"graph-button",variant:"contained",checked:a,onClick:function(e){c((function(e){return!e})),w(e.currentTarget)},children:"Graphs!!"}),Object(d.jsx)(l.a,{anchorReference:"anchorPosition",anchorPosition:{top:600,left:1250},id:L,open:B,anchorEl:O,onClose:function(){w(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(d.jsx)(D,{data:e.fireData})}),Object(d.jsx)(g,{acresToggle:p,durationToggle:C,causeToggle:y,ongoingToggle:k,setAcresToggle:f,setDurationToggle:x,setCauseToggle:G,setOngoingToggle:A})]})},P=n(101),I=Object(s.a)((function(e){return{hide:{opacity:0,visibility:"hidden",zIndex:-1}}}));var k=function(){I();var e=Object(r.useState)([]),i=Object(o.a)(e,2),n=i[0],t=i[1];Object(r.useEffect)((function(){fetch("https://services3.arcgis.com/T4QMspbfLg3qTGWY/arcgis/rest/services/Fire_History_Perimeters_Public/FeatureServer/0/query?where=1%3D1&outFields=OBJECTID,poly_IncidentName,irwin_DailyAcres,irwin_FireBehaviorGeneral1,irwin_FireCause,irwin_FireCauseGeneral,irwin_FireCauseSpecific,irwin_FireDiscoveryDateTime,irwin_FireMgmtComplexity,irwin_FireOutDateTime,irwin_IncidentTypeCategory,irwin_InitialLatitude,irwin_InitialLongitude,irwin_POOState,irwin_PredominantFuelGroup,irwin_SecondaryFuelModel,irwin_TotalIncidentPersonnel,poly_Acres_AutoCalc,irwin_FireBehaviorGeneral2,irwin_FireBehaviorGeneral3,irwin_POOCounty,irwin_POOLandownerKind,irwin_PrimaryFuelModel&returnGeometry=false&outSR=4326&f=json").then((function(e){return e.json()})).then(a)}),[]);var a=function(e){var i=e.features.map((function(e){return e.attributes}));i.forEach((function(e){e.startDate=new Date(e.irwin_FireDiscoveryDateTime).toLocaleDateString("en-US"),e.endDate=e.irwin_FireOutDateTime?new Date(e.irwin_FireOutDateTime).toLocaleDateString("en-US"):"present",e.duration=e.irwin_FireOutDateTime?Math.ceil((e.irwin_FireOutDateTime-e.irwin_FireDiscoveryDateTime)/864e5):Math.ceil((Date.now()-e.irwin_FireDiscoveryDateTime)/864e5),e.acres=e.poly_Acres_AutoCalc.toFixed(2),e.irwin_FireCause&&"Unknown"!==e.irwin_FireCause||(e.irwin_FireCause="Undetermined"),"Other, Unknown"!==e.irwin_FireCauseSpecific&&"Other, Known"!==e.irwin_FireCauseSpecific||(e.irwin_FireCauseSpecific=null),"Debris/Open Burning"===e.irwin_FireCauseGeneral?e.irwin_FireCauseGeneral="Open Burning":"Other Human Cause"!==e.irwin_FireCauseGeneral||e.irwin_FireCauseSpecific||(e.irwin_FireCauseGeneral=null)})),t(i)};return Object(d.jsx)(P.a,{children:Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(G,{fireData:n})})})};c.a.render(Object(d.jsx)(k,{}),document.getElementById("root"))}},[[356,1,2]]]);
//# sourceMappingURL=main.de1445e2.chunk.js.map